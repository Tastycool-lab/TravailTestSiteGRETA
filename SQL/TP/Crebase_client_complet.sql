
DROP TABLE  CLIENT CASCADE CONSTRAINTS;
DROP TABLE  PRODUIT CASCADE CONSTRAINTS;
DROP TABLE  COMMANDE CASCADE CONSTRAINTS;
DROP TABLE  LIGNE_COMMANDE CASCADE CONSTRAINTS;

--------------------------------------------------------
--  DDL for Table CLIENT
--------------------------------------------------------

  CREATE TABLE  CLIENT 
   (ID integer NOT NULL , 
	TITRE CHAR(12) DEFAULT 'Monsieur' NOT NULL , 
	NOM VARCHAR(30) NOT NULL , 
	PRENOM VARCHAR(30) NOT NULL , 
	ADRESSERUE1 VARCHAR(40) NOT NULL , 
	ADRESSERUE2 VARCHAR(40), 
	CP CHAR(6) NOT NULL , 
	VILLE VARCHAR(30) NOT NULL , 
	TEL CHAR(15) NOT NULL 
   ) ;
  ALTER TABLE CLIENT ADD CONSTRAINT PK_CLIENT PRIMARY KEY (ID) ;
  ALTER TABLE CLIENT ADD CONSTRAINT CKC_TITRE_CLIENT CHECK (TITRE in ('Monsieur','Madame','Mademoiselle')) ENABLE;
   
   --------------------------------------------------------
--  DDL for Table PRODUIT
--------------------------------------------------------

  CREATE TABLE  PRODUIT 
   (ID VARCHAR(14), 
	DESIGNATION VARCHAR(80), 
	PUHT NUMBER(7,2)
   ) ;
     ALTER TABLE PRODUIT ADD CONSTRAINT PK_PRODUIT PRIMARY KEY (ID) ;
--------------------------------------------------------
--  DDL for Table COMMANDE
--------------------------------------------------------

  CREATE TABLE  COMMANDE 
   (ID integer NOT NULL , 
	IDCLIENT integer  NOT NULL , 
	DATECDE DATE  NOT NULL 
   ) ;
   ALTER TABLE COMMANDE ADD CONSTRAINT PK_COMMANDE PRIMARY KEY ("ID") ;
   ALTER TABLE COMMANDE ADD CONSTRAINT FK_COMMANDE_CLIENT FOREIGN KEY ("IDCLIENT")
	  REFERENCES CLIENT ("ID") ;
--------------------------------------------------------
--  DDL for Table LIGNE_COMMANDE
--------------------------------------------------------

  CREATE TABLE  LIGNE_COMMANDE 
   (IDCOMMANDE integer  NOT NULL , 
	IDPRODUIT VARCHAR(14), 
	QTELIGNE integer  NOT NULL 
   ) ;
   ALTER TABLE LIGNE_COMMANDE ADD CONSTRAINT PK_LIGNE_COMMANDE PRIMARY KEY (IDCOMMANDE, IDPRODUIT) ;
   ALTER TABLE LIGNE_COMMANDE ADD CONSTRAINT FK_LIGNE_COMMANDE FOREIGN KEY (IDCOMMANDE)
	  REFERENCES COMMANDE (ID) ENABLE;
   ALTER TABLE LIGNE_COMMANDE ADD CONSTRAINT FK_LIGNE_PRODUIT FOREIGN KEY (IDPRODUIT)
	  REFERENCES PRODUIT (ID) ENABLE;


   
Insert into CLIENT (ID,TITRE,NOM,PRENOM,ADRESSERUE1,ADRESSERUE2,CP,VILLE,TEL) values (123,'Monsieur','Tienun','Jean','112, rue du Départ',null,'13000 ','Marseille','0404040404');
Insert into CLIENT (ID,TITRE,NOM,PRENOM,ADRESSERUE1,ADRESSERUE2,CP,VILLE,TEL) values (176,'Madame','Terrature','Julie','Résidence Mermoz','1234 Boulevard des Aviateurs','14000 ','Caen','0202020202');
Insert into CLIENT (ID,TITRE,NOM,PRENOM,ADRESSERUE1,ADRESSERUE2,CP,VILLE,TEL) values (2342 ,'Madame','Cerf','Paulette','343 Avenue Henri Barbusse',null,'33000 ','Bordeaux','0550505050');
Insert into CLIENT (ID,TITRE,NOM,PRENOM,ADRESSERUE1,ADRESSERUE2,CP,VILLE,TEL) values (2343 ,'Mademoiselle','Morizet','Patricia','Hameau de Pau','23 Boulevard du Lycée','33000','Bordeaux','0250505052');
Insert into CLIENT (ID,TITRE,NOM,PRENOM,ADRESSERUE1,ADRESSERUE2,CP,VILLE,TEL) values (2345 ,'Monsieur','Nolapin','Jean','12 quai des Brumes',null,'83000 ','Toulon','0404505050');
Insert into CLIENT (ID,TITRE,NOM,PRENOM,ADRESSERUE1,ADRESSERUE2,CP,VILLE,TEL) values (2376 ,'Monsieur','Entete','Martel','Résidence du Faron','30 rue du téléphérique','83000 ','Toulon','0250505050');
Insert into CLIENT (ID,TITRE,NOM,PRENOM,ADRESSERUE1,ADRESSERUE2,CP,VILLE,TEL) values (2388 ,'Monsieur','Entete','Martel','12 Avenue de Lille',null, '59140 ','Dunkerque','0250905057');
Insert into CLIENT (ID,TITRE,NOM,PRENOM,ADRESSERUE1,ADRESSERUE2,CP,VILLE,TEL) values (2389 ,'Madame','DUMANS','Henriette','Corniche des Bolides','Villa Ferrari', '49000 ','Angers','0250765357');

Insert into PRODUIT (ID,DESIGNATION,PUHT) values ('SMO21911','CARS 2 - MARTIN - Voiture radiocommandée 1/16ème',29.99);
Insert into PRODUIT (ID,DESIGNATION,PUHT) values ('LEGO6858','Lego Super Héros - La poursuite De Catwoman',11.19);
Insert into PRODUIT (ID,DESIGNATION,PUHT) values ('LAN75020','Titeuf, L''Ecole En Folie',5.49);
Insert into PRODUIT (ID,DESIGNATION,PUHT) values ('SODINV50','Robot Tankbot Compatible Smartphone',13.99);
Insert into PRODUIT (ID,DESIGNATION,PUHT) values ('RT656','Vélo VTT homme',67.99);
Insert into PRODUIT (ID,DESIGNATION,PUHT) values ('RT677','Vélo VTT femme',59.99);
Insert into PRODUIT (ID,DESIGNATION,PUHT) values ('STRE4322','Train électrique',45.99);
Insert into PRODUIT (ID,DESIGNATION,PUHT) values ('STRK0976','Pompe Vélo',18.85);


Insert into COMMANDE (ID,IDCLIENT,DATECDE) values (98762,123,to_date('07/09/2014','DD/MM/RR'));
Insert into COMMANDE (ID,IDCLIENT,DATECDE) values (98767,176,to_date('08/09/2014','DD/MM/RR'));
Insert into COMMANDE (ID,IDCLIENT,DATECDE) values (98770,2343,to_date('10/09/2014','DD/MM/RR'));
Insert into COMMANDE (ID,IDCLIENT,DATECDE) values (98801,176,to_date('01/10/2014','DD/MM/RR'));
Insert into COMMANDE (ID,IDCLIENT,DATECDE) values (98802,2343,to_date('01/10/2014','DD/MM/RR'));
Insert into COMMANDE (ID,IDCLIENT,DATECDE) values (98805,2345,to_date('01/10/2014','DD/MM/RR'));
Insert into COMMANDE (ID,IDCLIENT,DATECDE) values (98809,2376,to_date('01/10/2014','DD/MM/RR'));



Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98762,'SMO21911',2);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98762,'SODINV50',1);

Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98767,'SMO21911',3);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98767,'LEGO6858',2);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98767,'LAN75020',4);

Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98770,'SMO21911',4);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98770,'LEGO6858',2);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98770,'LAN75020',5);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98770,'SODINV50',3);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98770,'RT656',12);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98770,'STRE4322',5);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98770,'STRK0976',9);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98770,'RT677',7);

Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98801,'LAN75020',6);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98801,'SODINV50',6);

Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98802,'SMO21911',6);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98802,'LEGO6858',2);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98802,'LAN75020',5);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98802,'SODINV50',3);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98802,'RT656',13);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98802,'STRE4322',5);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98802,'STRK0976',9);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98802,'RT677',7);

Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98805,'SODINV50',5);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98805,'RT656',12);

Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98809,'STRE4322',3);
Insert into LIGNE_COMMANDE (IDCOMMANDE,IDPRODUIT,QTELIGNE) values (98809,'RT656',9);

commit;